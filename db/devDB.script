CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE FOLDER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,VERSION BIGINT NOT NULL,NAME VARCHAR(255) NOT NULL)
CREATE MEMORY TABLE NEWS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,VERSION BIGINT NOT NULL,DATE_CREATED TIMESTAMP NOT NULL,DESCRIPTION VARCHAR(255) NOT NULL,USER_ID BIGINT NOT NULL)
CREATE MEMORY TABLE PICTURE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,VERSION BIGINT NOT NULL,CAPTION VARCHAR(255) NOT NULL,DATE_ADDED TIMESTAMP NOT NULL,FILENAME VARCHAR(255) NOT NULL,FOLDER_ID BIGINT NOT NULL,USER_ID BIGINT NOT NULL,CONSTRAINT FKDD905CFE9D32DF1A FOREIGN KEY(FOLDER_ID) REFERENCES FOLDER(ID))
CREATE MEMORY TABLE USER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,VERSION BIGINT NOT NULL,EMAIL VARCHAR(255) NOT NULL,PASSWORD VARCHAR(255) NOT NULL)
ALTER TABLE NEWS ADD CONSTRAINT FK338AD3F7634DFA FOREIGN KEY(USER_ID) REFERENCES USER(ID)
ALTER TABLE PICTURE ADD CONSTRAINT FKDD905CFEF7634DFA FOREIGN KEY(USER_ID) REFERENCES USER(ID)
ALTER TABLE FOLDER ALTER COLUMN ID RESTART WITH 1
ALTER TABLE NEWS ALTER COLUMN ID RESTART WITH 1
ALTER TABLE PICTURE ALTER COLUMN ID RESTART WITH 1
ALTER TABLE USER ALTER COLUMN ID RESTART WITH 2
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 20
SET SCHEMA PUBLIC
INSERT INTO USER VALUES(1,0,'apena@wp.pl','password')
